---

logstash_enabled: yes                       # The role is enabled
logstash_apt_repositories:                  # These repositories will be added to system
- ppa:webupd8team/java
- deb http://packages.elasticsearch.org/logstash/1.4/debian stable main
logstash_apt_key: http://packages.elasticsearch.org/GPG-KEY-elasticsearch
logstash_apt_pkgs:
- acl
- oracle-java7-installer
- logstash
- logstash-contrib

logstash_server_enabled: yes                # Setup logstash server
logstash_forwarder_enabled: no              # Setup logstash forwarder
logstash_web_enabled: no                    # Setup logstash web

logstash_user: logstash                     # logstash user
logstash_group: "{{logstash_user}}"         # logstash group

logstash_home: /opt/logstash
logstash_confdir: /etc/logstash
logstash_logdir: /var/log/logstash

# Certificates (please replace with your own files)
logstash_ssl_cert_file: "logstash-nosafe.crt"
logstash_ssl_key_file: "logstash-nosafe.key"

# Grant read permissions to logstash user
logstash_grant_permissions:
- /var/log/syslog
- /var/log/auth.log

# Logstash inputs
logstash_config_inputs:
  file:
    path: "{{logstash_grant_permissions}}"
  lumberjack:
    port: 5000
    type: logs
    ssl_certificate: "{{logstash_confdir}}/logstash.crt"
    ssl_key: "{{logstash_confdir}}/logstash.key"

# Logstash filters
logstash_config_filters: {}

logstash_syslog_filter: true

# Logstash outputs
logstash_config_outputs:
  elasticsearch:
    host: localhost
  stdout:
    codec: rubydebug
